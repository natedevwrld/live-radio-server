"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.declareModule = void 0;
const declareModule = (dec) => {
    const symbol = Symbol(dec.name);
    let allProviders = dec.providers;
    const extensionObject = Object.entries(dec.extend || {}).reduce((acc, cur) => {
        const [key, ext] = cur;
        return Object.assign(Object.assign({}, acc), { [key]: (...args) => {
                const providers = ext(...args);
                allProviders = allProviders.concat(providers);
                // eslint-disable-next-line @typescript-eslint/no-use-before-define
                return createModule();
            } });
    }, {});
    const createModule = () => (Object.assign({ __internals: {
            name: dec.name,
            providers: allProviders,
            imports: dec.imports || [],
            symbol: symbol,
        } }, extensionObject));
    return createModule();
};
exports.declareModule = declareModule;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLWRlY2xhcmF0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL21vZHVsZS9tb2R1bGUtZGVjbGFyYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRU8sTUFBTSxhQUFhLEdBQUcsQ0FBeUIsR0FBb0IsRUFBd0IsRUFBRTtJQUNsRyxNQUFNLE1BQU0sR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ2hDLElBQUksWUFBWSxHQUFHLEdBQUcsQ0FBQyxTQUFTLENBQUM7SUFDakMsTUFBTSxlQUFlLEdBQUcsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsRUFBRTtRQUMzRSxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUN2Qix1Q0FDSyxHQUFHLEtBQ04sQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBNEIsRUFBRSxFQUFFO2dCQUN6QyxNQUFNLFNBQVMsR0FBRyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztnQkFDL0IsWUFBWSxHQUFHLFlBQVksQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLENBQUM7Z0JBQzlDLG1FQUFtRTtnQkFDbkUsT0FBTyxZQUFZLEVBQUUsQ0FBQztZQUN4QixDQUFDLElBQ0Q7SUFDSixDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFUCxNQUFNLFlBQVksR0FBRyxHQUFHLEVBQUUsQ0FDeEIsQ0FBQyxnQkFDQyxXQUFXLEVBQUU7WUFDWCxJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUk7WUFDZCxTQUFTLEVBQUUsWUFBWTtZQUN2QixPQUFPLEVBQUUsR0FBRyxDQUFDLE9BQU8sSUFBSSxFQUFFO1lBQzFCLE1BQU0sRUFBRSxNQUFNO1NBQ2YsSUFFRSxlQUFlLENBQ00sQ0FBQSxDQUFDO0lBRTdCLE9BQU8sWUFBWSxFQUFFLENBQUM7QUFDeEIsQ0FBQyxDQUFDO0FBN0JXLFFBQUEsYUFBYSxpQkE2QnhCIn0=