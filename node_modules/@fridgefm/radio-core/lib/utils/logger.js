"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.logger = void 0;
/* eslint-disable no-param-reassign */
const winston_1 = __importDefault(require("winston"));
const chalk_1 = __importDefault(require("chalk"));
const time_1 = require("./time");
const colors = {
    error: chalk_1.default.redBright,
    info: chalk_1.default.greenBright,
    warn: chalk_1.default.yellowBright,
    default: chalk_1.default.grey,
    time: chalk_1.default.cyan,
};
const fridgeformat = winston_1.default.format((info) => {
    // @ts-ignore
    const chalked = colors[info.level] || colors.default;
    const add = {
        timings: typeof info.timings !== 'undefined' ? `+${info.timings}ms` : '',
        event: `${info.name || ''}:${info.event}::`,
    };
    // @ts-ignore
    info.message = `${colors.time((0, time_1.getHHMMSS)(Date.now()))} ${chalked(add.event)} ${info.message || ''} ${chalked(add.timings)}`;
    return info;
});
exports.logger = winston_1.default.createLogger({
    format: fridgeformat(),
    transports: [
        new winston_1.default.transports.Console({
            format: winston_1.default.format.cli(),
        }),
    ],
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3V0aWxzL2xvZ2dlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxzQ0FBc0M7QUFDdEMsc0RBQThCO0FBQzlCLGtEQUEwQjtBQUMxQixpQ0FBbUM7QUFFbkMsTUFBTSxNQUFNLEdBQUc7SUFDYixLQUFLLEVBQUUsZUFBSyxDQUFDLFNBQVM7SUFDdEIsSUFBSSxFQUFFLGVBQUssQ0FBQyxXQUFXO0lBQ3ZCLElBQUksRUFBRSxlQUFLLENBQUMsWUFBWTtJQUN4QixPQUFPLEVBQUUsZUFBSyxDQUFDLElBQUk7SUFDbkIsSUFBSSxFQUFFLGVBQUssQ0FBQyxJQUFJO0NBQ2pCLENBQUM7QUFFRixNQUFNLFlBQVksR0FBRyxpQkFBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksRUFBRSxFQUFFO0lBQzNDLGFBQWE7SUFDYixNQUFNLE9BQU8sR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUM7SUFFckQsTUFBTSxHQUFHLEdBQUc7UUFDVixPQUFPLEVBQUUsT0FBTyxJQUFJLENBQUMsT0FBTyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7UUFDeEUsS0FBSyxFQUFFLEdBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLEtBQUssSUFBSTtLQUM1QyxDQUFDO0lBRUYsYUFBYTtJQUNiLElBQUksQ0FBQyxPQUFPLEdBQUcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUEsZ0JBQVMsRUFBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sSUFBSSxFQUFFLElBQUksT0FBTyxDQUN6RyxHQUFHLENBQUMsT0FBTyxDQUNaLEVBQUUsQ0FBQztJQUNKLE9BQU8sSUFBSSxDQUFDO0FBQ2QsQ0FBQyxDQUFDLENBQUM7QUFFVSxRQUFBLE1BQU0sR0FBRyxpQkFBTyxDQUFDLFlBQVksQ0FBQztJQUN6QyxNQUFNLEVBQUUsWUFBWSxFQUFFO0lBQ3RCLFVBQVUsRUFBRTtRQUNWLElBQUksaUJBQU8sQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDO1lBQzdCLE1BQU0sRUFBRSxpQkFBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUU7U0FDN0IsQ0FBQztLQUNIO0NBQ0YsQ0FBQyxDQUFDIn0=